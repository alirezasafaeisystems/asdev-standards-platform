$ bun test
bun test v1.3.9 (cf6cdbbb)

src/lib/__tests__/validations.test.ts:
(pass) validation hardening > contribution payload ignores client-supplied userId [7.00ms]
(pass) validation hardening > membership payload ignores role and userId escalation fields

src/lib/__tests__/brand-seo-contract.test.ts:
(pass) brand and seo contract > brand identity baseline is defined
(pass) brand and seo contract > sitemap includes homepage and brand page [1.00ms]
(pass) brand and seo contract > robots points to canonical host and sitemap

src/lib/__tests__/auth.test.ts:
(pass) isSystemAdmin > accepts ACTIVE ADMIN [1.00ms]
(pass) isSystemAdmin > accepts ACTIVE SUPER_ADMIN
(pass) isSystemAdmin > rejects inactive admin and regular users [1.00ms]

src/app/api/__tests__/contributions-authz.test.ts:
(pass) contributions authz policy > always resolves actor to authenticated user id

src/app/api/__tests__/audit-access.test.ts:
(pass) audit access policy > entity-level filters require admin role

src/app/api/__tests__/memberships-role.test.ts:
(pass) membership role policy > join endpoint always creates MEMBER role

 11 pass
 0 fail
 22 expect() calls
Ran 11 tests across 6 files. [282.00ms]
