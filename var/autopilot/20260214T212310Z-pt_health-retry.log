
> persiantoolbox@2.0.2 ci:quick /home/dev/Project_Me/asdev-persiantoolbox
> pnpm lint && pnpm typecheck && pnpm gate:local-first && pnpm vitest --run


> persiantoolbox@2.0.2 lint /home/dev/Project_Me/asdev-persiantoolbox
> eslint . --ext .ts,.tsx


> persiantoolbox@2.0.2 typecheck /home/dev/Project_Me/asdev-persiantoolbox
> tsc --noEmit


> persiantoolbox@2.0.2 gate:local-first /home/dev/Project_Me/asdev-persiantoolbox
> tsx scripts/quality/verify-local-first.ts

[local-first] OK: no off-origin runtime dependency found
[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v1.6.1 /home/dev/Project_Me/asdev-persiantoolbox

 âœ“ features/loan/loan.logic.test.ts  (12 tests) 9ms
 âœ“ features/salary/salary.logic.test.ts  (6 tests) 9ms
 âœ“ features/pdf-tools/workerClient.test.ts  (4 tests) 11ms
 âœ“ tests/unit/date-tools.test.ts  (12 tests) 11ms
 âœ“ features/date-tools/date-tools.logic.test.ts  (14 tests) 18ms
 âœ“ tests/unit/seo-jsonld-contract.test.ts  (4 tests) 8ms
 âœ“ tests/unit/utils.test.ts  (21 tests) 16ms
 âœ“ tests/unit/analytics-route.test.ts  (5 tests) 339ms
 âœ“ tests/unit/recent-history-card.test.tsx  (6 tests) 236ms
 âœ“ tests/unit/account-page-retry-contract.test.tsx  (5 tests) 333ms
 âœ“ tests/unit/admin-auth.test.ts  (6 tests) 13ms
 âœ“ tests/unit/site-settings-admin-page-race.test.tsx  (1 test) 646ms
 âœ“ tests/unit/ad-analytics-privacy.test.ts  (2 tests) 49ms
 âœ“ tests/seo-tools.test.ts  (4 tests) 39ms
 âœ“ tests/unit/auth.test.ts  (5 tests) 21ms
 âœ“ tests/unit/monitoring-consent.test.ts  (2 tests) 19ms
 âœ“ tests/unit/image-tools-async-state.test.tsx  (1 test) 311ms
 âœ“ tests/unit/rate-limit.test.ts  (4 tests) 8ms
stderr | tests/unit/rate-limit.test.ts > rateLimit > blocks when count is over limit and logs metric when enabled
[rate-limit] { key: 'k2', limit: 3, windowMs: 60000, blockedAt: 1771104247512 }

 âœ“ tests/unit/sessions.test.ts  (5 tests) 7ms
 âœ“ tests/unit/validation-tools-page.test.tsx  (3 tests) 528ms
 âœ“ shared/utils/numbers/number.test.ts  (10 tests) 10ms
 âœ“ tests/unit/monetization-operations-contract.test.ts  (1 test) 6ms
 âœ“ tests/unit/navigation-feature-flag.test.tsx  (2 tests) 130ms
 âœ“ tests/unit/validation.test.ts  (6 tests) 16ms
 âœ“ features/text-tools/address-fa-to-en.test.ts  (3 tests) 5ms
 âœ“ tests/unit/high-traffic-tools-async-state.test.tsx  (3 tests) 1016ms
 âœ“ tests/unit/next-config-redirects.test.ts  (2 tests) 27ms
 âœ“ tests/unit/release-state-consistency-contract.test.ts  (1 test) 4ms
 âœ“ tests/unit/pdf-utils.test.ts  (8 tests) 9ms
 âœ“ tests/unit/monetization-alerting-decision-contract.test.ts  (1 test) 7ms
 âœ“ tests/unit/text-tools-page.test.tsx  (2 tests) 654ms
 âœ“ tests/unit/deployment-readiness-contract.test.ts  (1 test) 5ms
 âœ“ tests/unit/finance.test.ts  (5 tests) 7ms
 âœ“ features/interest/interest.logic.test.ts  (4 tests) 8ms
 âœ“ tests/unit/launch-smoke-report-contract.test.ts  (1 test) 7ms
 âœ“ tests/unit/release-rc-report-contract.test.ts  (1 test) 6ms
 âœ“ tests/unit/ads-consent.test.ts  (5 tests) 7ms
 âœ“ tests/unit/site-settings-validation.test.ts  (4 tests) 21ms
 âœ“ tests/unit/deployment-readiness-report-contract.test.ts  (1 test) 6ms
 âœ“ tests/unit/history.test.ts  (7 tests) 13ms
 âœ“ tests/unit/analytics-store-security.test.ts  (1 test) 59ms
 âœ“ tests/unit/rollback-drill-contract.test.ts  (1 test) 6ms
 âœ“ tests/unit/exports.test.ts  (2 tests) 4ms
 âœ“ tests/unit/site-settings-contract.test.ts  (1 test) 10ms
 âœ“ tests/unit/csrf.test.ts  (6 tests) 20ms
 âœ“ tests/unit/release-candidate-contract.test.ts  (1 test) 17ms
 âœ“ tests/unit/review-backlog-contract.test.ts  (1 test) 6ms
 âœ“ tests/unit/async-state.test.tsx  (3 tests) 152ms
 âœ“ tests/unit/launch-day-checklist-contract.test.ts  (1 test) 4ms
 âœ“ tests/unit/result.test.ts  (3 tests) 6ms
stdout | features/pdf-tools/lazy-deps.test.ts > pdf lazy deps > memoizes pdfjs import promise
Warning: Please use the `legacy` build in Node.js environments.

 âœ“ features/date-tools/holidays.test.ts  (4 tests) 13ms
 âœ“ tests/unit/ad-experiment.test.ts  (2 tests) 7ms
 âœ“ features/pdf-tools/lazy-deps.test.ts  (3 tests) 211ms
 âœ“ tests/unit/seo.test.ts  (1 test) 9ms
 âœ“ tests/unit/subscription-webhook.test.ts  (2 tests) 17ms
 âœ“ tests/unit/favorites.test.ts  (4 tests) 8ms
 âœ“ tests/unit/sw-cache-version.test.ts  (1 test) 13ms
 âœ“ tests/unit/proxy-csp.test.ts  (2 tests) 6ms
 âœ“ tests/unit/finance-saved.test.ts  (1 test) 3ms
 âœ“ features/image-tools/utils/format.test.ts  (2 tests) 3ms
 âœ“ tests/unit/admin-site-settings-route.test.ts  (2 tests) 10ms
 âœ“ tests/unit/history-share.test.ts  (3 tests) 4ms
 âœ“ tests/unit/brand.test.ts  (1 test) 12ms
 âœ“ tests/unit/subscriptionPlans.test.ts  (3 tests) 4ms
 âœ“ tests/unit/local-first-gate.test.ts  (1 test) 16ms

 Test Files  65 passed (65)
      Tests  242 passed (242)
   Start at  22:24:03
   Duration  9.35s (transform 2.16s, setup 18.76s, collect 6.80s, tests 5.21s, environment 38.21s, prepare 8.80s)


> persiantoolbox@2.0.2 release:state:validate /home/dev/Project_Me/asdev-persiantoolbox
> node scripts/release/validate-release-state-consistency.mjs

file:///home/dev/Project_Me/asdev-persiantoolbox/scripts/release/validate-release-state-consistency.mjs:9
    throw new Error(errorMessage);
          ^

Error: Registry missing release_train field
    at extractSingle (file:///home/dev/Project_Me/asdev-persiantoolbox/scripts/release/validate-release-state-consistency.mjs:9:11)
    at main (file:///home/dev/Project_Me/asdev-persiantoolbox/scripts/release/validate-release-state-consistency.mjs:64:24)
    at file:///home/dev/Project_Me/asdev-persiantoolbox/scripts/release/validate-release-state-consistency.mjs:107:1
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:660:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0
â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.
