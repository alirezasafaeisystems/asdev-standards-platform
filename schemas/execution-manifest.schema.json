{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Execution Manifest",
  "type": "object",
  "properties": {
    "version": { "type": "integer", "minimum": 1 },
    "updated_at_utc": { "type": "string", "format": "date-time" },
    "root_default": { "type": "string" },
    "execution_stack": {
      "type": "object",
      "properties": {
        "canonical_scripts": { "type": "array", "items": { "type": "string" } },
        "compatibility_wrappers": { "type": "array", "items": { "type": "string" } },
        "config": {
          "type": "object",
          "properties": {
            "env_file": { "type": "string" },
            "systemd_template": { "type": "string" }
          },
          "required": ["env_file", "systemd_template"],
          "additionalProperties": false
        },
        "reports": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["canonical_scripts", "compatibility_wrappers", "config", "reports"],
      "additionalProperties": false
    }
  },
  "required": ["version", "updated_at_utc", "root_default", "execution_stack"],
  "additionalProperties": false
}
